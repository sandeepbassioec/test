{"file":"o-dialog.js","mappings":";;;;;AAAA,MAAM,UAAU,GAAG,k3gDAAk3gD;;MCUx3gDA,SAAO,iBAAAC,kBAAA,CAAA,MAAA,OAAA,SAAAC,CAAA,CAAA;AALpB,IAAA,WAAA,GAAA;;;;;;;;AASU,QAAA,IAAM,CAAA,MAAA,GAAY,KAAK;;AAGP,QAAA,IAAI,CAAA,IAAA,GAAY,KAAK;;AAGrB,QAAA,IAAK,CAAA,KAAA,GAAG,EAAE;;AAGV,QAAA,IAAO,CAAA,OAAA,GAAY,KAAK;AAMzC,QAAA,IAAS,CAAA,SAAA,GAAqB,IAAI;AAClC,QAAA,IAAW,CAAA,WAAA,GAAwB,IAAI;QACvC,IAAA,CAAA,gBAAgB,GAAG;AAC1B,YAAA,SAAS,EAAE;SACX;;AAGQ,QAAA,IAAQ,CAAA,QAAA,GAAY,KAAK;;AAkL1B,QAAA,IAAsB,CAAA,sBAAA,GAAG,MAAK;AACrC,YAAA,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC;AAClC,SAAC;;AAGO,QAAA,IAAA,CAAA,kBAAkB,GAAG,CAAC,MAAkB,KAAI;AACnD,YAAA,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC;AAC7B,SAAC;;AAGO,QAAA,IAAA,CAAA,aAAa,GAAG,CAAC,KAAoB,KAAI;AAChD,YAAA,IAAI,KAAK,CAAC,GAAG,KAAK,QAAQ,EAAE;AAC3B,gBAAA,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC;;AAE/B,SAAC;AAiFD;;IApQA,MAAM,SAAS,CAAC,QAAiB,EAAA;QAChC,IAAI,IAAI,CAAC,QAAQ;YAAE;AACnB,QAAA,IAAI,CAAC,MAAM,GAAG,QAAQ;AACtB,QAAA,IAAI,IAAI,CAAC,MAAM,EAAE;AAChB,YAAA,MAAM,IAAI,CAAC,IAAI,EAAE;;aACX;AACN,YAAA,MAAM,IAAI,CAAC,IAAI,EAAE;;;;IAMnB,YAAY,CAAC,SAAkB,EAAA;;IAG/B,iBAAiB,GAAA;AAChB,QAAA,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI;AACvB,QAAA,IAAI,IAAI,CAAC,MAAM,EAAE;YAChB,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG,QAAQ;;;;IAKzC,oBAAoB,GAAA;QACnB,IAAI,CAAC,oBAAoB,EAAE;QAC3B,QAAQ,CAAC,mBAAmB,CAAC,SAAS,EAAE,IAAI,CAAC,aAAa,CAAC;;;IAIpD,oBAAoB,GAAA;AAC3B,QAAA,IAAI,IAAI,CAAC,SAAS,EAAE;AACnB,YAAA,IAAI,CAAC,SAAS,CAAC,UAAU,EAAE;AAC3B,YAAA,IAAI,CAAC,SAAS,GAAG,IAAI;;AAGtB,QAAA,IAAI,IAAI,CAAC,WAAW,EAAE;YACrB,IAAI,CAAC,WAAW,EAAE;AAClB,YAAA,IAAI,CAAC,WAAW,GAAG,IAAI;;;;AAKjB,IAAA,MAAM,kBAAkB,GAAA;;QAE/B,IAAI,CAAC,oBAAoB,EAAE;QAE3B,IAAI,CAAC,IAAI,CAAC,KAAK;YAAE;AAEjB,QAAA,IAAI;;YAEH,IAAI,CAAC,SAAS,GAAG,eAAe,iBAC/B,WAAW,EAAE,IAAI,CAAC,KAAK,EACpB,EAAA,IAAI,CAAC,gBAAgB,EACvB;YAEF,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,UAAU,EAAE;AACrC,gBAAA,MAAM,KAAK,GAAG,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC;gBAC9D,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,IAAI,IAAI,CAAC,SAAS,EAAE;oBACvC,IAAI,CAAC,WAAW,GAAG,uBAAuB,CAAC,IAAI,CAAC,SAAS,EAAE,KAAK,CAAC;;;AAInE,YAAA,MAAM,IAAI,OAAO,CAAC,CAAC,OAAO,KAAK,UAAU,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;;AAEvD,YAAA,IAAI,IAAI,CAAC,SAAS,EAAE;AACnB,gBAAA,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE;;;QAEzB,OAAO,KAAK,EAAE;AACf,YAAA,OAAO,CAAC,KAAK,CAAC,mCAAmC,EAAE,KAAK,CAAC;;;;AAM3D,IAAA,MAAM,IAAI,GAAA;AACT,QAAA,IAAI,CAAC,MAAM,GAAG,IAAI;QAClB,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG,QAAQ;QACvC,QAAQ,CAAC,gBAAgB,CAAC,SAAS,EAAE,IAAI,CAAC,aAAa,CAAC;AACxD,QAAA,MAAM,IAAI,OAAO,CAAC,CAAC,OAAO,KAAK,qBAAqB,CAAC,OAAO,CAAC,CAAC;QAC9D,MAAM,IAAI,CAAC,aAAa,CAAC,aAAa,EAAE,qBAAqB,CAAC;AAE9D,QAAA,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE;AACjB,QAAA,MAAM,IAAI,CAAC,kBAAkB,EAAE;;;AAKhC,IAAA,MAAM,IAAI,GAAA;QACT,IAAI,IAAI,CAAC,QAAQ;YAAE;AACnB,QAAA,IAAI,CAAC,QAAQ,GAAG,IAAI;QACpB,IAAI,CAAC,oBAAoB,EAAE;AAC3B,QAAA,MAAM,IAAI,OAAO,CAAC,CAAC,OAAO,KAAK,qBAAqB,CAAC,OAAO,CAAC,CAAC;QAC9D,MAAM,IAAI,CAAC,aAAa,CAAC,aAAa,EAAE,qBAAqB,CAAC;AAC9D,QAAA,IAAI,CAAC,MAAM,GAAG,KAAK;QACnB,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG,MAAM;QACrC,QAAQ,CAAC,mBAAmB,CAAC,SAAS,EAAE,IAAI,CAAC,aAAa,CAAC;AAE3D,QAAA,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE;AACjB,QAAA,IAAI,CAAC,QAAQ,GAAG,KAAK;;;AAId,IAAA,MAAM,aAAa,CAAC,eAAuB,EAAE,gBAAwB,EAAA;QAC5E,MAAM,cAAc,GAAG,IAAI,CAAC,YAAY,CAAC,eAAe,CAAC;QACzD,MAAM,sBAAsB,GAAG,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC;QAClE,IAAI,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,OAAO,EAAE;YAC/B,MAAM,OAAO,CAAC,GAAG,CAAC;AACjB,gBAAA,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,EAAE,cAAc,CAAC,SAAS,EAAE,cAAc,CAAC,OAAO,CAAC;AAC5E,gBAAA,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,EAAE,sBAAsB,CAAC,SAAS,EAAE,sBAAsB,CAAC,OAAO;AAC7F,aAAA,CAAC;;;;AAKI,IAAA,YAAY,CAAC,aAAqB,EAAA;AACzC,QAAA,MAAM,UAAU,GAAG;AAClB,YAAA,aAAa,EAAE;AACd,gBAAA,SAAS,EAAE;AACV,oBAAA,EAAE,OAAO,EAAE,CAAC,EAAE,SAAS,EAAE,YAAY,EAAE;AACvC,oBAAA,EAAE,OAAO,EAAE,CAAC,EAAE,SAAS,EAAE,UAAU;AACnC,iBAAA;gBACD,OAAO,EAAE,EAAE,QAAQ,EAAE,GAAG,EAAE,MAAM,EAAE,MAAM;AACxC,aAAA;AACD,YAAA,aAAa,EAAE;AACd,gBAAA,SAAS,EAAE;AACV,oBAAA,EAAE,OAAO,EAAE,CAAC,EAAE,SAAS,EAAE,UAAU,EAAE;AACrC,oBAAA,EAAE,OAAO,EAAE,CAAC,EAAE,SAAS,EAAE,YAAY;AACrC,iBAAA;gBACD,OAAO,EAAE,EAAE,QAAQ,EAAE,GAAG,EAAE,MAAM,EAAE,MAAM;AACxC,aAAA;AACD,YAAA,qBAAqB,EAAE;AACtB,gBAAA,SAAS,EAAE,CAAC,EAAE,OAAO,EAAE,CAAC,EAAE,EAAE,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC;AAC3C,gBAAA,OAAO,EAAE,EAAE,QAAQ,EAAE,GAAG;AACxB,aAAA;AACD,YAAA,qBAAqB,EAAE;AACtB,gBAAA,SAAS,EAAE,CAAC,EAAE,OAAO,EAAE,CAAC,EAAE,EAAE,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC;AAC3C,gBAAA,OAAO,EAAE,EAAE,QAAQ,EAAE,GAAG;AACxB,aAAA;AACD,YAAA,cAAc,EAAE;AACf,gBAAA,SAAS,EAAE;oBACV,EAAE,SAAS,EAAE,eAAe,EAAE;oBAC9B,EAAE,SAAS,EAAE,kBAAkB,EAAE;oBACjC,EAAE,SAAS,EAAE,iBAAiB,EAAE;oBAChC,EAAE,SAAS,EAAE,eAAe;AAC5B,iBAAA;gBACD,OAAO,EAAE,EAAE,QAAQ,EAAE,GAAG,EAAE,MAAM,EAAE,aAAa;AAC/C;SACD;AAED,QAAA,OAAO,UAAU,CAAC,aAAa,CAAC,IAAI,EAAE,SAAS,EAAE,EAAE,EAAE,OAAO,EAAE,EAAE,EAAE;;;AAI3D,IAAA,MAAM,SAAS,CAAC,OAAoB,EAAE,SAAqB,EAAE,OAAiC,EAAA;QACrG,IAAI,OAAO,EAAE;YACZ,MAAM,SAAS,GAAG,OAAO,CAAC,OAAO,CAAC,SAAS,EAAE,OAAO,CAAC;AACrD,YAAA,OAAO,IAAI,OAAO,CAAO,CAAC,OAAO,KAAI;gBACpC,SAAS,CAAC,QAAQ,GAAG,MAAM,OAAO,EAAE;AACrC,aAAC,CAAC;;aACI;AACN,YAAA,OAAO,OAAO,CAAC,OAAO,EAAE;;;;AAsBlB,IAAA,YAAY,CAAC,MAA+C,EAAA;AACnE,QAAA,MAAM,UAAU,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,CAAC;;AAEtD,QAAA,IAAI,CAAC,UAAU,CAAC,gBAAgB,EAAE;YACjC,IAAI,CAAC,IAAI,EAAE;;aACL;YACN,IAAI,CAAC,WAAW,EAAE;;;;AAKZ,IAAA,MAAM,WAAW,GAAA;AACxB,QAAA,IAAI,IAAI,CAAC,KAAK,EAAE;YACf,MAAM,cAAc,GAAG,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC;AACxD,YAAA,MAAM,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,EAAE,cAAc,CAAC,SAAS,EAAE,cAAc,CAAC,OAAO,CAAC;;;;IAKpF,MAAM,GAAA;QACL,QACC,EAAC,IAAI,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,EACJ,CAAA,CAAA,QAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EACC,KAAK,EAAE,IAAI,CAAC,MAAM,GAAG,+EAA+E,GAAG,EAAE,EAAA,EAGxG,IAAI,CAAC,MAAM,KACX,4DACC,QAAQ,EAAE,EAAE,EACZ,KAAK,EAAC,8DAA8D,EACpE,OAAO,EAAE,IAAI,CAAC,kBAAkB,EAChC,GAAG,EAAE,CAAC,EAAE,MAAM,IAAI,CAAC,OAAO,GAAG,EAAiB,CAAC,GACzC,CACP,EAGA,IAAI,CAAC,MAAM,KACX,CAAA,CAAA,KAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EACC,EAAE,EAAC,aAAa,EAChB,KAAK,EAAC,6GAA6G,EACnH,IAAI,EAAC,QAAQ,EACF,YAAA,EAAA,MAAM,EACjB,QAAQ,EAAE,CAAC,EACX,GAAG,EAAE,CAAC,EAAE,MAAM,IAAI,CAAC,KAAK,GAAG,EAAiB,CAAC,EAAA,EAE7C,CAAK,CAAA,KAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,KAAK,EAAC,mEAAmE,EAAA,EAE5E,EAAE,IAAI,CAAC,OAAO,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,KAC9B,CAAK,CAAA,KAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,KAAK,EAAC,sDAAsD,EAAA,EAChE,CAAK,CAAA,KAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,KAAK,EAAC,mCAAmC,EAAA,EAC5C,IAAI,CAAC,KAAK,IAAI,CAAI,CAAA,IAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,KAAK,EAAC,4BAA4B,EAAE,EAAA,IAAI,CAAC,KAAK,CAAM,EACtE,CAAC,IAAI,CAAC,OAAO,KACb,CAAe,CAAA,eAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,IAAI,EAAC,OAAO,EAAC,IAAI,EAAC,IAAI,EAAC,OAAO,EAAE,IAAI,CAAC,sBAAsB,EAAkB,CAAA,CAC5F,CACI,CACD,CACN,EAGD,CAAA,CAAA,KAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAK,QAAQ,EAAE,EAAE,EAAE,KAAK,EAAC,mEAAmE,EAAA,EAC3F,CAAA,CAAA,KAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAK,QAAQ,EAAE,EAAE,EAAE,KAAK,EAAC,wBAAwB,EAAA,EAChD,CAAA,CAAA,MAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAM,GAAG,EAAE,CAAC,EAAE,MAAM,IAAI,CAAC,QAAQ,GAAG,EAAqB,CAAC,EAAS,CAAA,MAC9D,CACD,EAEN,CAAK,CAAA,KAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,KAAK,EAAC,WAAW,EAAA,EACrB,CAAK,CAAA,KAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,KAAK,EAAC,sCAAsC,EAAA,EAChD,CAAA,CAAA,MAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAM,IAAI,EAAC,QAAQ,EAAC,GAAG,EAAE,CAAC,EAAE,MAAM,IAAI,CAAC,UAAU,GAAG,EAAqB,CAAC,EAAS,CAAA,EAAC,GAAG,CAElF,CACD,CACD,CACD,CACN,CACO,CACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","names":["ODialog","__stencil_proxyCustomElement","HTMLElement"],"sources":["src/components/o-dialog/o-dialog.scss?tag=o-dialog&encapsulation=shadow","src/components/o-dialog/o-dialog.tsx"],"sourcesContent":[":host {\r\n\tdisplay: block;\r\n}\r\n","import type { EventEmitter } from '@stencil/core';\r\nimport { Component, Host, h, State, Method, Prop, Element, Watch, Event } from '@stencil/core';\r\nimport type { FocusTrap } from '../../internal/a11y';\r\nimport { createFocusTrap, setupSlotChangeHandlers } from '../../internal/a11y';\r\n\r\n@Component({\r\n\ttag: 'o-dialog',\r\n\tstyleUrl: 'o-dialog.scss',\r\n\tshadow: true\r\n})\r\nexport class ODialog {\r\n\t@Element() el: HTMLODialogElement;\r\n\r\n\t/** State to track if the dialog is open. */\r\n\t@State() isOpen: boolean = false;\r\n\r\n\t/** Indicates whether or not the dialog is open. */\r\n\t@Prop({ reflect: true }) open: boolean = false;\r\n\r\n\t/** The label for the dialog header. */\r\n\t@Prop({ reflect: true }) label = '';\r\n\r\n\t/** Determines whether the close button is shown. */\r\n\t@Prop({ reflect: true }) noClose: boolean = false;\r\n\r\n\tprivate panel: HTMLElement;\r\n\tprivate overlay: HTMLElement;\r\n\tprivate bodySlot: HTMLSlotElement;\r\n\tprivate footerSlot: HTMLSlotElement;\r\n\tprivate focusTrap: FocusTrap | null = null;\r\n\tprivate slotCleanup: (() => void) | null = null;\r\n\tprivate focusTrapOptions = {\r\n\t\tautoFocus: false\r\n\t};\r\n\r\n\t/** State to prevent calling hide if already hiding */\r\n\t@State() isHiding: boolean = false;\r\n\r\n\t/** Emitted when the dialog opens */\r\n\t@Event() oShow: EventEmitter<void>;\r\n\r\n\t/** Emitted when the dialog closes */\r\n\t@Event() oHide: EventEmitter<void>;\r\n\r\n\t/** Emitted when dialog close is requested with the source of the request */\r\n\t@Event() oRequestClose: EventEmitter<{ source: 'close-button' | 'keyboard' | 'overlay' }>;\r\n\r\n\t/** Watches for changes to the 'open' property and updates the dialog state accordingly. */\r\n\t@Watch('open')\r\n\tasync watchOpen(newValue: boolean) {\r\n\t\tif (this.isHiding) return;\r\n\t\tthis.isOpen = newValue;\r\n\t\tif (this.isOpen) {\r\n\t\t\tawait this.show();\r\n\t\t} else {\r\n\t\t\tawait this.hide();\r\n\t\t}\r\n\t}\r\n\r\n\t/** Watches for changes to the 'noClose' property. */\r\n\t@Watch('noClose')\r\n\twatchNoClose(_newValue: boolean) {}\r\n\r\n\t/** Sets the initial state of the dialog based on the 'open' property before the component loads. */\r\n\tcomponentWillLoad() {\r\n\t\tthis.isOpen = this.open;\r\n\t\tif (this.isOpen) {\r\n\t\t\tdocument.body.style.overflow = 'hidden';\r\n\t\t}\r\n\t}\r\n\r\n\t/** Clean up listeners when component is removed */\r\n\tdisconnectedCallback() {\r\n\t\tthis.cleanupAccessibility();\r\n\t\tdocument.removeEventListener('keydown', this.handleKeyDown);\r\n\t}\r\n\r\n\t/** Clean up focus trap and related accessibility resources */\r\n\tprivate cleanupAccessibility() {\r\n\t\tif (this.focusTrap) {\r\n\t\t\tthis.focusTrap.deactivate();\r\n\t\t\tthis.focusTrap = null;\r\n\t\t}\r\n\r\n\t\tif (this.slotCleanup) {\r\n\t\t\tthis.slotCleanup();\r\n\t\t\tthis.slotCleanup = null;\r\n\t\t}\r\n\t}\r\n\r\n\t/** Initialize and activate focus trap  */\r\n\tprivate async setupAccessibility() {\r\n\t\t// Clean up any existing trap first\r\n\t\tthis.cleanupAccessibility();\r\n\r\n\t\tif (!this.panel) return;\r\n\r\n\t\ttry {\r\n\t\t\t// Create the focus trap\r\n\t\t\tthis.focusTrap = createFocusTrap({\r\n\t\t\t\trootElement: this.panel,\r\n\t\t\t\t...this.focusTrapOptions\r\n\t\t\t});\r\n\r\n\t\t\tif (this.bodySlot || this.footerSlot) {\r\n\t\t\t\tconst slots = [this.bodySlot, this.footerSlot].filter(Boolean);\r\n\t\t\t\tif (slots.length > 0 && this.focusTrap) {\r\n\t\t\t\t\tthis.slotCleanup = setupSlotChangeHandlers(this.focusTrap, slots);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tawait new Promise((resolve) => setTimeout(resolve, 50));\r\n\t\t\t// Activate the focus trap\r\n\t\t\tif (this.focusTrap) {\r\n\t\t\t\tthis.focusTrap.activate();\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error('Error initializing accessibility:', error);\r\n\t\t}\r\n\t}\r\n\r\n\t/** Public method to show the dialog. */\r\n\t@Method()\r\n\tasync show() {\r\n\t\tthis.isOpen = true;\r\n\t\tdocument.body.style.overflow = 'hidden';\r\n\t\tdocument.addEventListener('keydown', this.handleKeyDown);\r\n\t\tawait new Promise((resolve) => requestAnimationFrame(resolve));\r\n\t\tawait this.animateDialog('dialog.show', 'dialog.overlay.show');\r\n\r\n\t\tthis.oShow.emit();\r\n\t\tawait this.setupAccessibility();\r\n\t}\r\n\r\n\t/** Public method to hide the dialog. */\r\n\t@Method()\r\n\tasync hide() {\r\n\t\tif (this.isHiding) return;\r\n\t\tthis.isHiding = true;\r\n\t\tthis.cleanupAccessibility();\r\n\t\tawait new Promise((resolve) => requestAnimationFrame(resolve));\r\n\t\tawait this.animateDialog('dialog.hide', 'dialog.overlay.hide');\r\n\t\tthis.isOpen = false;\r\n\t\tdocument.body.style.overflow = 'auto';\r\n\t\tdocument.removeEventListener('keydown', this.handleKeyDown);\r\n\r\n\t\tthis.oHide.emit();\r\n\t\tthis.isHiding = false;\r\n\t}\r\n\r\n\t/** Animate the dialog and overlay */\r\n\tprivate async animateDialog(dialogAnimation: string, overlayAnimation: string) {\r\n\t\tconst panelAnimation = this.getAnimation(dialogAnimation);\r\n\t\tconst overlayAnimationConfig = this.getAnimation(overlayAnimation);\r\n\t\tif (this.panel && this.overlay) {\r\n\t\t\tawait Promise.all([\r\n\t\t\t\tthis.animateTo(this.panel, panelAnimation.keyframes, panelAnimation.options),\r\n\t\t\t\tthis.animateTo(this.overlay, overlayAnimationConfig.keyframes, overlayAnimationConfig.options)\r\n\t\t\t]);\r\n\t\t}\r\n\t}\r\n\r\n\t/** Get animation configuration */\r\n\tprivate getAnimation(animationName: string) {\r\n\t\tconst animations = {\r\n\t\t\t'dialog.show': {\r\n\t\t\t\tkeyframes: [\r\n\t\t\t\t\t{ opacity: 0, transform: 'scale(0.8)' },\r\n\t\t\t\t\t{ opacity: 1, transform: 'scale(1)' }\r\n\t\t\t\t],\r\n\t\t\t\toptions: { duration: 250, easing: 'ease' }\r\n\t\t\t},\r\n\t\t\t'dialog.hide': {\r\n\t\t\t\tkeyframes: [\r\n\t\t\t\t\t{ opacity: 1, transform: 'scale(1)' },\r\n\t\t\t\t\t{ opacity: 0, transform: 'scale(0.8)' }\r\n\t\t\t\t],\r\n\t\t\t\toptions: { duration: 250, easing: 'ease' }\r\n\t\t\t},\r\n\t\t\t'dialog.overlay.show': {\r\n\t\t\t\tkeyframes: [{ opacity: 0 }, { opacity: 1 }],\r\n\t\t\t\toptions: { duration: 250 }\r\n\t\t\t},\r\n\t\t\t'dialog.overlay.hide': {\r\n\t\t\t\tkeyframes: [{ opacity: 1 }, { opacity: 0 }],\r\n\t\t\t\toptions: { duration: 250 }\r\n\t\t\t},\r\n\t\t\t'dialog.shake': {\r\n\t\t\t\tkeyframes: [\r\n\t\t\t\t\t{ transform: 'translateX(0)' },\r\n\t\t\t\t\t{ transform: 'translateX(-5px)' },\r\n\t\t\t\t\t{ transform: 'translateX(5px)' },\r\n\t\t\t\t\t{ transform: 'translateX(0)' }\r\n\t\t\t\t],\r\n\t\t\t\toptions: { duration: 300, easing: 'ease-in-out' }\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\treturn animations[animationName] || { keyframes: [], options: {} };\r\n\t}\r\n\r\n\t/** Animate to a specific element */\r\n\tprivate async animateTo(element: HTMLElement, keyframes: Keyframe[], options: KeyframeAnimationOptions) {\r\n\t\tif (element) {\r\n\t\t\tconst animation = element.animate(keyframes, options);\r\n\t\t\treturn new Promise<void>((resolve) => {\r\n\t\t\t\tanimation.onfinish = () => resolve();\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\treturn Promise.resolve();\r\n\t\t}\r\n\t}\r\n\r\n\t/** Handles the close button click event. */\r\n\tprivate handleCloseButtonClick = () => {\r\n\t\tthis.requestClose('close-button');\r\n\t};\r\n\r\n\t/** Handles the overlay click event to close the dialog. */\r\n\tprivate handleOverlayClick = (_event: MouseEvent) => {\r\n\t\tthis.requestClose('overlay');\r\n\t};\r\n\r\n\t/** Handles keyboard events for closing the dialog. */\r\n\tprivate handleKeyDown = (event: KeyboardEvent) => {\r\n\t\tif (event.key === 'Escape') {\r\n\t\t\tthis.requestClose('keyboard');\r\n\t\t}\r\n\t};\r\n\r\n\t/** Requests to close the dialog and emits a custom event. */\r\n\tprivate requestClose(source: 'close-button' | 'keyboard' | 'overlay') {\r\n\t\tconst closeEvent = this.oRequestClose.emit({ source });\r\n\t\t// If the event is not prevented, close the dialog.\r\n\t\tif (!closeEvent.defaultPrevented) {\r\n\t\t\tthis.hide();\r\n\t\t} else {\r\n\t\t\tthis.shakeDialog();\r\n\t\t}\r\n\t}\r\n\r\n\t/** Triggers the shake animation on the dialog */\r\n\tprivate async shakeDialog() {\r\n\t\tif (this.panel) {\r\n\t\t\tconst shakeAnimation = this.getAnimation('dialog.shake');\r\n\t\t\tawait this.animateTo(this.panel, shakeAnimation.keyframes, shakeAnimation.options);\r\n\t\t}\r\n\t}\r\n\r\n\t/** Renders the dialog component. */\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Host>\r\n\t\t\t\t<dialog\r\n\t\t\t\t\tclass={this.isOpen ? 'flex items-center justify-center fixed inset-0 z-50 p-4 bg-transparent w-full' : ''}\r\n\t\t\t\t>\r\n\t\t\t\t\t{/* Overlay */}\r\n\t\t\t\t\t{this.isOpen && (\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\ttabindex={-1}\r\n\t\t\t\t\t\t\tclass=\"fixed inset-0 bg-black bg-opacity-60 z-60 transition-opacity\"\r\n\t\t\t\t\t\t\tonClick={this.handleOverlayClick}\r\n\t\t\t\t\t\t\tref={(el) => (this.overlay = el as HTMLElement)}\r\n\t\t\t\t\t\t></div>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{/* Dialog */}\r\n\t\t\t\t\t{this.isOpen && (\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tid=\"basic-modal\"\r\n\t\t\t\t\t\t\tclass=\"static z-60 overflow-hidden flex-1 items-center justify-center rounded-lg max-w-[37.5em] focus:outline-none\"\r\n\t\t\t\t\t\t\trole=\"dialog\"\r\n\t\t\t\t\t\t\taria-modal=\"true\"\r\n\t\t\t\t\t\t\ttabIndex={0}\r\n\t\t\t\t\t\t\tref={(el) => (this.panel = el as HTMLElement)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div class=\"bg-white shadow-dialog w-full overflow-auto max-h-full rounded-lg\">\r\n\t\t\t\t\t\t\t\t{/* Header */}\r\n\t\t\t\t\t\t\t\t{!(this.noClose && !this.label) && (\r\n\t\t\t\t\t\t\t\t\t<div class=\"p-4 border-b border-tab_grey dark:border-gray-700/60\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"flex justify-between items-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t{this.label && <h4 class=\"text-[21px] text-main_text\">{this.label}</h4>}\r\n\t\t\t\t\t\t\t\t\t\t\t{!this.noClose && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<o-icon-button name=\"close\" size=\"sm\" onClick={this.handleCloseButtonClick}></o-icon-button>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t{/* Body */}\r\n\t\t\t\t\t\t\t\t<div tabindex={-1} class=\"px-8 py-6 border-b border-tab_grey max-h-[68.333vh] overflow-auto\">\r\n\t\t\t\t\t\t\t\t\t<div tabindex={-1} class=\"text-sm text-main_text\">\r\n\t\t\t\t\t\t\t\t\t\t<slot ref={(el) => (this.bodySlot = el as HTMLSlotElement)}></slot> {/* Slot for dialog content. */}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{/* Footer */}\r\n\t\t\t\t\t\t\t\t<div class=\"px-4 py-2\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"flex flex-wrap justify-end space-x-2\">\r\n\t\t\t\t\t\t\t\t\t\t<slot name=\"footer\" ref={(el) => (this.footerSlot = el as HTMLSlotElement)}></slot>{' '}\r\n\t\t\t\t\t\t\t\t\t\t{/* Slot for footer content. */}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</dialog>\r\n\t\t\t</Host>\r\n\t\t);\r\n\t}\r\n}\r\n"],"version":3}