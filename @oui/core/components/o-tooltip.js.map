{"file":"o-tooltip.js","mappings":"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","names":["OTooltip","__stencil_proxyCustomElement","HTMLElement"],"sources":["src/components/o-tooltip/o-tooltip.scss?tag=o-tooltip&encapsulation=shadow","src/components/o-tooltip/o-tooltip.tsx"],"sourcesContent":[":host {\r\n\tdisplay: contents;\r\n}\r\n","import type { EventEmitter } from '@stencil/core';\r\nimport { Component, Element, Event, Host, Method, Prop, Watch, h } from '@stencil/core';\r\n\r\n@Component({\r\n\ttag: 'o-tooltip',\r\n\tstyleUrl: 'o-tooltip.scss',\r\n\tshadow: true\r\n})\r\nexport class OTooltip {\r\n\tprivate popup: HTMLOPopupElement;\r\n\tprivate body: HTMLElement;\r\n\tprivate hoverTimeout: number;\r\n\tprivate animationTimeout: number;\r\n\tprivate isAnimating: boolean = false;\r\n\r\n\t/** Reference to the host element */\r\n\t@Element() host: HTMLOTooltipElement;\r\n\r\n\t/** The text content to be displayed in the tooltip */\r\n\t@Prop() content: string = '';\r\n\r\n\t/** The open state of the tooltip, defaults to closed (false) */\r\n\t@Prop({ mutable: true }) open: boolean = false;\r\n\r\n\t/** Position of the tooltip relative to the target */\r\n\t@Prop() placement:\r\n\t\t| 'top'\r\n\t\t| 'top-start'\r\n\t\t| 'top-end'\r\n\t\t| 'bottom'\r\n\t\t| 'bottom-start'\r\n\t\t| 'bottom-end'\r\n\t\t| 'right'\r\n\t\t| 'right-start'\r\n\t\t| 'right-end'\r\n\t\t| 'left'\r\n\t\t| 'left-start'\r\n\t\t| 'left-end' = 'top';\r\n\r\n\t/** Whether the tooltip is disabled, preventing user interaction. */\r\n\t@Prop() disabled: boolean = false;\r\n\r\n\t/** If true, sets the popup positioning strategy to fixed instead of absolute - can be used to get around overflow issues */\r\n\t@Prop() hoist: boolean = false;\r\n\r\n\t/** The trigger type of the tooltip, separated by a space - can be hover, focus, click, manual, or a combination */\r\n\t@Prop() trigger: string = 'hover focus';\r\n\r\n\t/** Maximum width (in rem) of the tooltip popover, allowing optional text wrapping */\r\n\t@Prop() maxWidth: number | null = 20;\r\n\r\n\t/** Emitted when tooltip shown */\r\n\t@Event() oShow: EventEmitter<void>;\r\n\r\n\t/** Emitted when tooltip hidden */\r\n\t@Event() oHide: EventEmitter<void>;\r\n\r\n\t/** Emitted after tooltip shown */\r\n\t@Event() oAfterShow: EventEmitter<void>;\r\n\r\n\t/** Emitted after tooltip hidden */\r\n\t@Event() oAfterHide: EventEmitter<void>;\r\n\r\n\t@Watch('open')\r\n\tasync handleOpenChange() {\r\n\t\t// Prevent race conditions from multiple open/close calls\r\n\t\tif (this.isAnimating) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (this.open) {\r\n\t\t\tif (this.disabled) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.isAnimating = true;\r\n\r\n\t\t\ttry {\r\n\t\t\t\t// Show\r\n\t\t\t\tthis.oShow.emit();\r\n\t\t\t\tdocument.addEventListener('keydown', this.handleDocumentKeyDown);\r\n\r\n\t\t\t\tawait this.stopAnimations();\r\n\t\t\t\tthis.body.hidden = false;\r\n\t\t\t\tthis.popup.active = true;\r\n\r\n\t\t\t\tconst config = this.getAnimationConfig('show');\r\n\t\t\t\tawait this.animateTooltip(config);\r\n\r\n\t\t\t\tthis.oAfterShow.emit();\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.warn('o-tooltip show animation failed:', error);\r\n\t\t\t} finally {\r\n\t\t\t\tthis.isAnimating = false;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.isAnimating = true;\r\n\r\n\t\t\ttry {\r\n\t\t\t\t// Hide\r\n\t\t\t\tthis.oHide.emit();\r\n\t\t\t\tdocument.removeEventListener('keydown', this.handleDocumentKeyDown);\r\n\r\n\t\t\t\tawait this.stopAnimations();\r\n\r\n\t\t\t\tconst config = this.getAnimationConfig('hide');\r\n\t\t\t\tawait this.animateTooltip(config);\r\n\r\n\t\t\t\tthis.popup.active = false;\r\n\t\t\t\tthis.body.hidden = true;\r\n\r\n\t\t\t\tthis.oAfterHide.emit();\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.warn('o-tooltip hide animation failed:', error);\r\n\t\t\t} finally {\r\n\t\t\t\tthis.isAnimating = false;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t@Watch('content')\r\n\t@Watch('hoist')\r\n\t@Watch('placement')\r\n\thandleOptionsChange() {\r\n\t\tthis.popup.reposition();\r\n\t}\r\n\r\n\t@Watch('disabled')\r\n\thandleDisabledChange() {\r\n\t\tif (this.disabled && this.open) {\r\n\t\t\tthis.hide();\r\n\t\t}\r\n\t}\r\n\r\n\t@Method()\r\n\tasync show() {\r\n\t\tif (this.open) {\r\n\t\t\treturn undefined;\r\n\t\t}\r\n\r\n\t\tthis.open = true;\r\n\t}\r\n\r\n\t@Method()\r\n\tasync hide() {\r\n\t\tif (!this.open) {\r\n\t\t\treturn undefined;\r\n\t\t}\r\n\r\n\t\tthis.open = false;\r\n\t}\r\n\r\n\tconnectedCallback() {\r\n\t\tthis.host.addEventListener('focus', this.handleFocus, true);\r\n\t\tthis.host.addEventListener('blur', this.handleBlur, true);\r\n\t\tthis.host.addEventListener('click', this.handleClick);\r\n\t\tthis.host.addEventListener('mouseover', this.handleMouseOver);\r\n\t\tthis.host.addEventListener('mouseout', this.handleMouseOut);\r\n\t}\r\n\r\n\tdisconnectedCallback() {\r\n\t\tthis.host.removeEventListener('focus', this.handleFocus, true);\r\n\t\tthis.host.removeEventListener('blur', this.handleBlur, true);\r\n\t\tthis.host.removeEventListener('click', this.handleClick);\r\n\t\tthis.host.removeEventListener('mouseover', this.handleMouseOver);\r\n\t\tthis.host.removeEventListener('mouseout', this.handleMouseOut);\r\n\t\tdocument.removeEventListener('keydown', this.handleDocumentKeyDown);\r\n\r\n\t\t// Clean all timeouts\r\n\t\tif (this.hoverTimeout) {\r\n\t\t\tclearTimeout(this.hoverTimeout);\r\n\t\t\tthis.hoverTimeout = undefined;\r\n\t\t}\r\n\t\tif (this.animationTimeout) {\r\n\t\t\tclearTimeout(this.animationTimeout);\r\n\t\t\tthis.animationTimeout = undefined;\r\n\t\t}\r\n\t\t// Reset animation state\r\n\t\tthis.isAnimating = false;\r\n\t}\r\n\r\n\thasTrigger(triggerType: string) {\r\n\t\tconst triggers = this.trigger.split(' ');\r\n\t\treturn triggers.includes(triggerType);\r\n\t}\r\n\r\n\t/* istanbul ignore next */\r\n\thandleFocus = () => {\r\n\t\tif (this.hasTrigger('focus')) {\r\n\t\t\tthis.show();\r\n\t\t}\r\n\t};\r\n\r\n\t/* istanbul ignore next */\r\n\thandleBlur = () => {\r\n\t\tif (this.hasTrigger('focus')) {\r\n\t\t\tthis.hide();\r\n\t\t}\r\n\t};\r\n\r\n\t/* istanbul ignore next */\r\n\thandleClick = () => {\r\n\t\tif (this.hasTrigger('click')) {\r\n\t\t\tif (this.open) {\r\n\t\t\t\tthis.hide();\r\n\t\t\t} else {\r\n\t\t\t\tthis.show();\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\thandleDocumentKeyDown = (event: KeyboardEvent) => {\r\n\t\tif (event.key === 'Escape') {\r\n\t\t\tevent.stopPropagation();\r\n\t\t\tthis.hide();\r\n\t\t}\r\n\t};\r\n\r\n\t/* istanbul ignore next */\r\n\thandleMouseOver = () => {\r\n\t\tif (this.hasTrigger('hover')) {\r\n\t\t\tclearTimeout(this.hoverTimeout);\r\n\t\t\tthis.hoverTimeout = window.setTimeout(() => this.show(), 150);\r\n\t\t}\r\n\t};\r\n\r\n\t/* istanbul ignore next */\r\n\thandleMouseOut = () => {\r\n\t\tif (this.hasTrigger('hover')) {\r\n\t\t\tclearTimeout(this.hoverTimeout);\r\n\t\t\tthis.hoverTimeout = window.setTimeout(() => this.hide(), 0);\r\n\t\t}\r\n\t};\r\n\r\n\tprivate async stopAnimations(): Promise<void> {\r\n\t\t// Stop animations on the body element, similar to Shoelace\r\n\t\tif (typeof jest === 'undefined' && this.body) {\r\n\t\t\tconst animations = this.body.getAnimations();\r\n\t\t\tanimations.forEach((animation) => animation.cancel());\r\n\t\t}\r\n\t\treturn Promise.resolve();\r\n\t}\r\n\r\n\t/* istanbul ignore next */\r\n\tprivate getTransformOrigin(): string {\r\n\t\tconst placement = this.placement.split('-')[0];\r\n\t\tswitch (placement) {\r\n\t\t\tcase 'top':\r\n\t\t\t\treturn 'bottom';\r\n\t\t\tcase 'bottom':\r\n\t\t\t\treturn 'top';\r\n\t\t\tcase 'left':\r\n\t\t\t\treturn 'right';\r\n\t\t\tcase 'right':\r\n\t\t\t\treturn 'left';\r\n\t\t\tdefault:\r\n\t\t\t\treturn 'center';\r\n\t\t}\r\n\t}\r\n\r\n\t/* istanbul ignore next */\r\n\tprivate getAnimationConfig(type: 'show' | 'hide') {\r\n\t\tconst baseConfig = {\r\n\t\t\tduration: 150,\r\n\t\t\ttransition: 'opacity 150ms ease, transform 150ms ease'\r\n\t\t};\r\n\r\n\t\tif (type === 'show') {\r\n\t\t\treturn {\r\n\t\t\t\t...baseConfig,\r\n\t\t\t\tinitialScale: 0.8,\r\n\t\t\t\tfinalScale: 1,\r\n\t\t\t\tinitialOpacity: '0',\r\n\t\t\t\tfinalOpacity: '1'\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\t...baseConfig,\r\n\t\t\tinitialScale: 1,\r\n\t\t\tfinalScale: 0.8,\r\n\t\t\tinitialOpacity: '1',\r\n\t\t\tfinalOpacity: '0'\r\n\t\t};\r\n\t}\r\n\r\n\t/* istanbul ignore next */\r\n\tprivate async animateTooltip(config: ReturnType<typeof this.getAnimationConfig>): Promise<void> {\r\n\t\tconst popupElement = this.popup.shadowRoot?.querySelector('div[class*=\"isolate\"]') as HTMLElement;\r\n\t\tif (!popupElement) return;\r\n\r\n\t\t// Reposition first\r\n\t\tif (config.finalScale === 1) {\r\n\t\t\tawait this.popup.reposition();\r\n\t\t}\r\n\r\n\t\treturn new Promise<void>((resolve) => {\r\n\t\t\trequestAnimationFrame(() => {\r\n\t\t\t\t// Set transform origin and get current positioning\r\n\t\t\t\tconst transformOrigin = this.getTransformOrigin();\r\n\t\t\t\tpopupElement.style.transformOrigin = transformOrigin;\r\n\t\t\t\t// Get current transform and adjust for existing scale if hiding\r\n\t\t\t\tlet currentTransform = popupElement.style.transform;\r\n\t\t\t\tif (config.finalScale === 0.8) {\r\n\t\t\t\t\tcurrentTransform = currentTransform.replace(/\\s*scale\\([^)]*\\)/, '');\r\n\t\t\t\t}\r\n\t\t\t\t// Apply initial state without transition\r\n\t\t\t\tpopupElement.style.transition = 'none';\r\n\t\t\t\tpopupElement.style.transform = `${currentTransform} scale(${config.initialScale})`;\r\n\t\t\t\tpopupElement.style.opacity = config.initialOpacity;\r\n\t\t\t\t// Force reflow\r\n\t\t\t\tpopupElement.offsetHeight;\r\n\t\t\t\t// Animate to final state\r\n\t\t\t\trequestAnimationFrame(() => {\r\n\t\t\t\t\tpopupElement.style.transition = config.transition;\r\n\t\t\t\t\tpopupElement.style.transform = `${currentTransform} scale(${config.finalScale})`;\r\n\t\t\t\t\tpopupElement.style.opacity = config.finalOpacity;\r\n\t\t\t\t\t// Wait for animation to complete\r\n\t\t\t\t\tthis.animationTimeout = window.setTimeout(() => {\r\n\t\t\t\t\t\tif (config.finalScale === 0.8) {\r\n\t\t\t\t\t\t\tpopupElement.style.transition = '';\r\n\t\t\t\t\t\t\tpopupElement.style.opacity = '';\r\n\t\t\t\t\t\t\tpopupElement.style.transform = currentTransform;\r\n\t\t\t\t\t\t\tpopupElement.style.transformOrigin = '';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.animationTimeout = undefined;\r\n\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t}, config.duration);\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet maxWidthString = '';\r\n\t\tmaxWidthString = this.maxWidth ? `${this.maxWidth}rem` : '';\r\n\r\n\t\treturn (\r\n\t\t\t<Host>\r\n\t\t\t\t<o-popup\r\n\t\t\t\t\tref={(el) => (this.popup = el)}\r\n\t\t\t\t\tdistance={10}\r\n\t\t\t\t\tplacement={this.placement}\r\n\t\t\t\t\tstrategy={this.hoist ? 'fixed' : 'absolute'}\r\n\t\t\t\t\tarrow\r\n\t\t\t\t\thoverBridge\r\n\t\t\t\t>\r\n\t\t\t\t\t<span slot=\"anchor\" aria-describedby=\"tooltip\" class=\"inline-block w-fit\">\r\n\t\t\t\t\t\t<slot></slot>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tref={(el) => (this.body = el)}\r\n\t\t\t\t\t\trole=\"tooltip\"\r\n\t\t\t\t\t\tclass={`block ${this.maxWidth ? '' : 'w-max'} text-start rounded-lg bg-main_text text-white px-4 py-2 text-sm leading-[21px] font-normal pointer-events-none z-60`}\r\n\t\t\t\t\t\taria-live={this.open ? 'polite' : 'off'}\r\n\t\t\t\t\t\tstyle={{ maxWidth: `${this.maxWidth ? maxWidthString : ''}` }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<slot name=\"content\">{this.content}</slot>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</o-popup>\r\n\t\t\t</Host>\r\n\t\t);\r\n\t}\r\n}\r\n"],"version":3}