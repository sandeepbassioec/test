{"version":3,"file":"o-dropdown.js","sourceRoot":"","sources":["../../../src/components/o-dropdown/o-dropdown.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, Element, Host, Prop, Watch, h } from '@stencil/core';\r\nimport type { OMenu } from '../o-menu/o-menu';\r\nimport type { OMenuItem } from '../o-menu-item/o-menu-item';\r\n\r\n@Component({\r\n\ttag: 'o-dropdown',\r\n\tstyleUrl: 'o-dropdown.scss',\r\n\tshadow: true\r\n})\r\nexport class ODropdown {\r\n\tprivate popup: HTMLOPopupElement;\r\n\tprivate panel: HTMLSlotElement;\r\n\tprivate trigger: HTMLSlotElement;\r\n\tprivate menu: OMenu;\r\n\tprivate menuItems: OMenuItem[];\r\n\r\n\t@Element() host: HTMLODropdownElement;\r\n\r\n\t@Prop({ mutable: true }) open: boolean = false;\r\n\r\n\t@Prop() placement:\r\n\t\t| 'top'\r\n\t\t| 'top-start'\r\n\t\t| 'top-end'\r\n\t\t| 'bottom'\r\n\t\t| 'bottom-start'\r\n\t\t| 'bottom-end'\r\n\t\t| 'right'\r\n\t\t| 'right-start'\r\n\t\t| 'right-end'\r\n\t\t| 'left'\r\n\t\t| 'left-start'\r\n\t\t| 'left-end' = 'bottom';\r\n\r\n\t@Prop() disabled: boolean = false;\r\n\r\n\t@Watch('open')\r\n\tasync watchOpen() {\r\n\t\tif (this.disabled) {\r\n\t\t\tthis.open = false;\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (this.open) {\r\n\t\t\tthis.addListeners();\r\n\t\t\tthis.panel.hidden = false;\r\n\t\t\tthis.popup.active = true;\r\n\r\n\t\t\tconst { keyframes, options } = this.getAnimation('dropdown.show');\r\n\t\t\tawait Promise.resolve(this.animateTo(this.popup?.shadowRoot?.querySelector('div'), keyframes, options));\r\n\t\t} else {\r\n\t\t\tthis.removeListeners();\r\n\t\t\tthis.panel.hidden = true;\r\n\t\t\tthis.popup.active = false;\r\n\r\n\t\t\tconst { keyframes, options } = this.getAnimation('dropdown.hide');\r\n\t\t\tawait Promise.resolve(this.animateTo(this.popup?.shadowRoot?.querySelector('div'), keyframes, options));\r\n\t\t}\r\n\t}\r\n\r\n\tfocusOnTrigger() {\r\n\t\tconst trigger = this.trigger.assignedElements?.({ flatten: true })[0] as HTMLElement | undefined;\r\n\t\tif (typeof trigger?.focus === 'function') {\r\n\t\t\ttrigger.focus();\r\n\t\t}\r\n\t}\r\n\r\n\tgetMenu() {\r\n\t\treturn this.panel\r\n\t\t\t.assignedElements?.({ flatten: true })\r\n\t\t\t.find((el) => el.tagName.toLowerCase() === 'o-menu') as unknown as OMenu | undefined;\r\n\t}\r\n\r\n\t/* istanbul ignore next */\r\n\taddListeners() {\r\n\t\tthis.panel.addEventListener('o-menu-select', this.handlePanelSelect);\r\n\t\tthis.panel.addEventListener('keydown', this.handleKeyDown);\r\n\t\tdocument.addEventListener('keydown', this.handleDocumentKeyDown);\r\n\t\tdocument.addEventListener('mousedown', this.handleDocumentMouseDown);\r\n\t}\r\n\r\n\t/* istanbul ignore next */\r\n\tremoveListeners() {\r\n\t\tthis.panel.removeEventListener('o-menu-select', this.handlePanelSelect);\r\n\t\tthis.panel.removeEventListener('keydown', this.handleKeyDown);\r\n\t\tdocument.removeEventListener('keydown', this.handleDocumentKeyDown);\r\n\t\tdocument.removeEventListener('mousedown', this.handleDocumentMouseDown);\r\n\t}\r\n\r\n\tasync show() {\r\n\t\tif (this.open) return;\r\n\r\n\t\tthis.open = true;\r\n\t}\r\n\r\n\tasync hide() {\r\n\t\tif (!this.open) return;\r\n\r\n\t\tthis.open = false;\r\n\t}\r\n\r\n\t/* istanbul ignore next */\r\n\tasync handleContentSlotChange() {\r\n\t\tthis.menu = this.getMenu();\r\n\t\tif (this.menu) {\r\n\t\t\tthis.menuItems = await this.menu.getMenuItems();\r\n\t\t}\r\n\r\n\t\t// Apply drop shadow to slotted content\r\n\t\tconst slottedContent = this.panel.assignedElements({ flatten: true })[0] as HTMLElement;\r\n\t\tif (slottedContent) {\r\n\t\t\tslottedContent.style.boxShadow = '0px 2px 4px 0px rgba(0, 0, 0, 0.25)';\r\n\t\t\tslottedContent.style.borderRadius = '8px';\r\n\t\t}\r\n\t}\r\n\r\n\t/* istanbul ignore next */\r\n\thandleTriggerClick = () => {\r\n\t\tif (this.open) {\r\n\t\t\tthis.hide();\r\n\t\t} else {\r\n\t\t\tthis.show();\r\n\t\t\tthis.focusOnTrigger();\r\n\t\t}\r\n\t};\r\n\r\n\t/* istanbul ignore next */\r\n\thandleTriggerKeyDown = (event: KeyboardEvent) => {\r\n\t\tif ([' ', 'Enter'].includes(event.key)) {\r\n\t\t\tevent.preventDefault();\r\n\t\t\tthis.handleTriggerClick();\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (this.menu) {\r\n\t\t\tconst firstMenuItem = this.menuItems[0];\r\n\t\t\tconst lastMenuItem = this.menuItems[this.menuItems.length - 1];\r\n\r\n\t\t\tif (['ArrowUp', 'ArrowDown', 'Home', 'End'].includes(event.key)) {\r\n\t\t\t\tevent.preventDefault();\r\n\r\n\t\t\t\tif (!this.open) () => this.show();\r\n\r\n\t\t\t\tif (this.menuItems.length > 0) {\r\n\t\t\t\t\tif (event.key === 'ArrowUp' || event.key === 'Home') {\r\n\t\t\t\t\t\tthis.menu.setCurrentItem(firstMenuItem);\r\n\t\t\t\t\t\tfirstMenuItem.setFocus();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (event.key === 'ArrowDown' || event.key === 'End') {\r\n\t\t\t\t\t\tthis.menu.setCurrentItem(lastMenuItem);\r\n\t\t\t\t\t\tlastMenuItem.setFocus();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t/* istanbul ignore next */\r\n\thandlePanelSelect = () => {\r\n\t\tthis.hide();\r\n\t\tthis.focusOnTrigger();\r\n\t};\r\n\r\n\t/* istanbul ignore next */\r\n\thandleKeyDown = (event: KeyboardEvent) => {\r\n\t\tif (this.open && event.key === 'Escape') {\r\n\t\t\tevent.stopPropagation();\r\n\t\t\tthis.hide();\r\n\t\t\tthis.focusOnTrigger();\r\n\t\t}\r\n\t};\r\n\r\n\t/* istanbul ignore next */\r\n\thandleDocumentKeyDown = (event: KeyboardEvent) => {\r\n\t\tif (event.key === 'Escape' && this.open) {\r\n\t\t\tevent.stopPropagation();\r\n\t\t\tthis.focusOnTrigger();\r\n\t\t\tthis.hide();\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (event.key === 'Tab') {\r\n\t\t\tif (this.open && document.activeElement?.tagName.toLowerCase() === 'o-menu-item') {\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t\tthis.hide();\r\n\t\t\t\tthis.focusOnTrigger();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t/* istanbul ignore next */\r\n\thandleDocumentMouseDown = (event: MouseEvent) => {\r\n\t\tconst path = event.composedPath();\r\n\t\tif (this.host && !path.includes(this.host)) this.hide();\r\n\t};\r\n\r\n\tgetAnimation(animationName: string) {\r\n\t\tconst animations = {\r\n\t\t\t'dropdown.show': {\r\n\t\t\t\tkeyframes: [\r\n\t\t\t\t\t{ opacity: 0, scale: 0.9 },\r\n\t\t\t\t\t{ opacity: 1, scale: 1 }\r\n\t\t\t\t],\r\n\t\t\t\toptions: { duration: 100, easing: 'ease' }\r\n\t\t\t},\r\n\t\t\t'dropdown.hide': {\r\n\t\t\t\tkeyframes: [\r\n\t\t\t\t\t{ opacity: 1, scale: 1 },\r\n\t\t\t\t\t{ opacity: 0, scale: 0.9 }\r\n\t\t\t\t],\r\n\t\t\t\toptions: { duration: 100, easing: 'ease' }\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\treturn animations[animationName] || { keyframes: [], options: {} };\r\n\t}\r\n\r\n\tasync animateTo(element: HTMLElement, keyframes: Keyframe[], options: KeyframeAnimationOptions) {\r\n\t\tif (element) {\r\n\t\t\tconst animation = element.animate(keyframes, options);\r\n\t\t\treturn new Promise<void>((resolve) => {\r\n\t\t\t\tanimation.onfinish = () => resolve();\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\treturn Promise.resolve();\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Host>\r\n\t\t\t\t<o-popup ref={(el) => (this.popup = el)} placement={this.placement}>\r\n\t\t\t\t\t<div slot=\"anchor\" onClick={this.handleTriggerClick} onKeyDown={this.handleTriggerKeyDown}>\r\n\t\t\t\t\t\t<slot ref={(el) => (this.trigger = el as HTMLSlotElement)} name=\"trigger\"></slot>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div aria-hidden={this.open ? 'false' : 'true'} aria-labelledby=\"dropdown\">\r\n\t\t\t\t\t\t<slot\r\n\t\t\t\t\t\t\tref={(el) => (this.panel = el as HTMLSlotElement)}\r\n\t\t\t\t\t\t\tonSlotchange={() => this.handleContentSlotChange()}\r\n\t\t\t\t\t\t></slot>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</o-popup>\r\n\t\t\t</Host>\r\n\t\t);\r\n\t}\r\n}\r\n"]}