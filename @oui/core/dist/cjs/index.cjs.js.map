{"version":3,"file":"index.cjs.js","sources":["src/components/table/aggridtheme.tsx","src/internal/theme-manager.ts","src/index.ts"],"sourcesContent":["import './agrid-theme.css';\r\n\r\nexport const oTableTheme = {\r\n\tgetThemeProperties: function () {\r\n\t\treturn {\r\n\t\t\taccentColor: '#D5D5D5', // Cell selector color\r\n\t\t\tborderColor: '#E3EDF7', // lt_blue\r\n\t\t\tborderRadius: 0,\r\n\t\t\tbrowserColorScheme: 'light',\r\n\t\t\tcellEditingBorder: false,\r\n\t\t\tcheckboxBorderRadius: 4,\r\n\t\t\tcheckboxUncheckedBorderColor: '#BFC4CD', // tab_grey\r\n\t\t\tcheckboxCheckedBackgroundColor: '#003C71', // oec_blue\r\n\t\t\tfocusShadow: '#1B9DD9 0px 0px 0px 3px', // accent_blue_1\r\n\t\t\tfontFamily: {\r\n\t\t\t\tgoogleFont: 'Inter'\r\n\t\t\t},\r\n\t\t\tforegroundColor: '#4D4E53',\r\n\t\t\theaderBackgroundColor: '#F3F5F5', // light_gray\r\n\t\t\theaderFontFamily: {\r\n\t\t\t\tgoogleFont: 'Inter'\r\n\t\t\t},\r\n\t\t\theaderFontSize: 12,\r\n\t\t\theaderFontWeight: 500,\r\n\t\t\theaderHeight: 36,\r\n\t\t\theaderTextColor: '#6B7280',\r\n\t\t\tspacing: 10,\r\n\t\t\twrapperBorderRadius: 0,\r\n\t\t\twrapperBorder: false,\r\n\t\t\tdragAndDropImageBorder: false\r\n\t\t};\r\n\t}\r\n};\r\n// oTableTheme\r\n","/**\r\n * OUI Theme Manager\r\n *\r\n * Provides theme management functionality for OUI library.\r\n * Handles theme switching, persistence, and event emission.\r\n *\r\n * Usage:\r\n * ```typescript\r\n * import { ThemeManager } from '@oui/core';\r\n *\r\n * // Initialize theme manager\r\n * ThemeManager.initialize();\r\n *\r\n * // Switch themes\r\n * ThemeManager.setTheme('white-label');\r\n *\r\n * // Listen for theme changes\r\n * document.addEventListener('oui-theme-changed', (event) => {\r\n *   console.log('New theme:', event.detail.theme);\r\n * });\r\n * ```\r\n */\r\n\r\n/**\r\n * Available built-in theme names\r\n */\r\nexport type OuiThemeName = 'oui';\r\n\r\n/**\r\n * Theme change event detail\r\n */\r\nexport interface OuiThemeChangeEvent {\r\n\ttheme: OuiThemeName;\r\n\tpreviousTheme: OuiThemeName | null;\r\n}\r\n\r\n/**\r\n * Theme manager configuration options\r\n */\r\nexport interface ThemeManagerOptions {\r\n\t/** Default theme to use if no theme is set */\r\n\tdefaultTheme?: OuiThemeName;\r\n\t/** Storage key for theme persistence */\r\n\tstorageKey?: string;\r\n\t/** Whether to persist theme selection */\r\n\tpersist?: boolean;\r\n\t/** Target element to apply theme data attribute */\r\n\ttarget?: HTMLElement;\r\n}\r\n\r\n/**\r\n * Default configuration\r\n */\r\nconst DEFAULT_OPTIONS: Required<ThemeManagerOptions> = {\r\n\tdefaultTheme: 'oui',\r\n\tstorageKey: 'oui-theme',\r\n\tpersist: true,\r\n\ttarget: document.documentElement\r\n};\r\n\r\n/**\r\n * Theme Manager Class\r\n *\r\n * Manages theme state, persistence, and DOM updates for OUI component library.\r\n */\r\nclass OuiThemeManager {\r\n\tprivate currentTheme: OuiThemeName | null = null;\r\n\tprivate options: Required<ThemeManagerOptions>;\r\n\tprivate initialized = false;\r\n\r\n\tconstructor() {\r\n\t\tthis.options = { ...DEFAULT_OPTIONS };\r\n\t}\r\n\r\n\t/**\r\n\t * Initialize the theme manager\r\n\t * @param options - Configuration options\r\n\t */\r\n\tpublic initialize(options: ThemeManagerOptions = {}): void {\r\n\t\tif (this.initialized) {\r\n\t\t\tconsole.warn('OUI Theme Manager is already initialized');\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.options = { ...DEFAULT_OPTIONS, ...options };\r\n\t\tthis.initialized = true;\r\n\r\n\t\t// Load persisted theme or use default\r\n\t\tconst persistedTheme = this.loadPersistedTheme();\r\n\t\tconst initialTheme = persistedTheme || this.options.defaultTheme;\r\n\r\n\t\tthis.setTheme(initialTheme, false); // Don't emit event on initialization\r\n\t}\r\n\r\n\t/**\r\n\t * Set the current theme\r\n\t * @param theme - Theme name to set\r\n\t * @param emitEvent - Whether to emit theme change event (default: true)\r\n\t */\r\n\tpublic setTheme(theme: OuiThemeName, emitEvent: boolean = true): void {\r\n\t\tif (!this.initialized) {\r\n\t\t\tthrow new Error('Theme Manager must be initialized before setting theme');\r\n\t\t}\r\n\r\n\t\tconst previousTheme = this.currentTheme;\r\n\r\n\t\t// Only proceed if theme is actually changing\r\n\t\tif (previousTheme === theme) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.currentTheme = theme;\r\n\r\n\t\t// Update DOM data attribute\r\n\t\tthis.updateDomAttribute(theme);\r\n\r\n\t\t// Persist theme if enabled\r\n\t\tif (this.options.persist) {\r\n\t\t\tthis.persistTheme(theme);\r\n\t\t}\r\n\r\n\t\t// Emit theme change event\r\n\t\tif (emitEvent) {\r\n\t\t\tthis.emitThemeChangeEvent(theme, previousTheme);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Get the current theme\r\n\t * @returns Current theme name or null if not set\r\n\t */\r\n\tpublic getCurrentTheme(): OuiThemeName | null {\r\n\t\treturn this.currentTheme;\r\n\t}\r\n\r\n\t/**\r\n\t * Check if theme manager is initialized\r\n\t * @returns True if initialized\r\n\t */\r\n\tpublic isInitialized(): boolean {\r\n\t\treturn this.initialized;\r\n\t}\r\n\r\n\t/**\r\n\t * Get available theme names\r\n\t * @returns Array of available theme names\r\n\t */\r\n\tpublic getAvailableThemes(): OuiThemeName[] {\r\n\t\treturn ['oui'];\r\n\t}\r\n\r\n\t/**\r\n\t * Reset to default theme\r\n\t */\r\n\tpublic resetToDefault(): void {\r\n\t\tthis.setTheme(this.options.defaultTheme);\r\n\t}\r\n\r\n\t/**\r\n\t * Clear persisted theme data\r\n\t */\r\n\tpublic clearPersistedTheme(): void {\r\n\t\tif (typeof Storage !== 'undefined') {\r\n\t\t\tlocalStorage.removeItem(this.options.storageKey);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Update the DOM data attribute for theme\r\n\t * @private\r\n\t */\r\n\tprivate updateDomAttribute(theme: OuiThemeName): void {\r\n\t\tconst target = this.options.target;\r\n\r\n\t\tif (!target) {\r\n\t\t\tconsole.warn('Theme Manager: No target element specified');\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Set the data-oui-theme attribute\r\n\t\ttarget.setAttribute('data-oui-theme', theme);\r\n\t}\r\n\r\n\t/**\r\n\t * Persist theme to localStorage\r\n\t * @private\r\n\t */\r\n\tprivate persistTheme(theme: OuiThemeName): void {\r\n\t\tif (typeof Storage !== 'undefined') {\r\n\t\t\ttry {\r\n\t\t\t\tlocalStorage.setItem(this.options.storageKey, theme);\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.warn('Theme Manager: Failed to persist theme', error);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Load persisted theme from localStorage\r\n\t * @private\r\n\t */\r\n\tprivate loadPersistedTheme(): OuiThemeName | null {\r\n\t\tif (typeof Storage !== 'undefined') {\r\n\t\t\ttry {\r\n\t\t\t\tconst persisted = localStorage.getItem(this.options.storageKey);\r\n\t\t\t\tif (persisted && this.getAvailableThemes().includes(persisted as OuiThemeName)) {\r\n\t\t\t\t\treturn persisted as OuiThemeName;\r\n\t\t\t\t}\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.warn('Theme Manager: Failed to load persisted theme', error);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\t/**\r\n\t * Emit custom theme change event\r\n\t * @private\r\n\t */\r\n\tprivate emitThemeChangeEvent(theme: OuiThemeName, previousTheme: OuiThemeName | null): void {\r\n\t\tconst eventDetail: OuiThemeChangeEvent = {\r\n\t\t\ttheme,\r\n\t\t\tpreviousTheme\r\n\t\t};\r\n\r\n\t\tconst event = new CustomEvent('oui-theme-changed', {\r\n\t\t\tdetail: eventDetail,\r\n\t\t\tbubbles: true,\r\n\t\t\tcancelable: false\r\n\t\t});\r\n\r\n\t\t// Emit on both document and target element for flexibility\r\n\t\tdocument.dispatchEvent(event);\r\n\r\n\t\tif (this.options.target && this.options.target !== document.documentElement) {\r\n\t\t\tthis.options.target.dispatchEvent(event);\r\n\t\t}\r\n\t}\r\n}\r\n\r\n/**\r\n * Singleton instance of the theme manager\r\n */\r\nexport const ThemeManager = new OuiThemeManager();\r\n\r\n/**\r\n * Auto-initialize theme manager\r\n * This ensures OUI theme is applied by default.\r\n */\r\nfunction autoInitializeThemeManager(): void {\r\n\t// Check if already manually initialized\r\n\tif (ThemeManager.isInitialized()) {\r\n\t\treturn;\r\n\t}\r\n\r\n\t// Initialize with default OUI theme\r\n\ttry {\r\n\t\tThemeManager.initialize({\r\n\t\t\tdefaultTheme: 'oui',\r\n\t\t\tpersist: true,\r\n\t\t\tstorageKey: 'oui-theme'\r\n\t\t});\r\n\t} catch (error) {\r\n\t\t// Fail - theme manager may be initialized in a context where DOM is not available\r\n\t\tconsole.warn('OUI Theme Manager: Auto-initialization deferred', error);\r\n\t}\r\n}\r\n\r\n// Auto-initialize immediately if DOM is ready, otherwise wait for DOMContentLoaded\r\nif (typeof document !== 'undefined') {\r\n\tif (document.readyState === 'loading') {\r\n\t\t// DOM is still loading, wait for it\r\n\t\tdocument.addEventListener('DOMContentLoaded', autoInitializeThemeManager, { once: true });\r\n\t} else {\r\n\t\t// DOM is already ready, initialize immediately\r\n\t\tautoInitializeThemeManager();\r\n\t}\r\n} else {\r\n\t// Not in a browser environment\r\n}\r\n\r\n/**\r\n * Declare global event type for TypeScript\r\n */\r\ndeclare global {\r\n\tinterface DocumentEventMap {\r\n\t\t'oui-theme-changed': CustomEvent<OuiThemeChangeEvent>;\r\n\t}\r\n\r\n\tinterface HTMLElementEventMap {\r\n\t\t'oui-theme-changed': CustomEvent<OuiThemeChangeEvent>;\r\n\t}\r\n}\r\n","/**\r\n * @fileoverview entry point for your component library\r\n *\r\n * This is the entry point for your component library. Use this file to export utilities,\r\n * constants or data structure that accompany your components.\r\n *\r\n * DO NOT use this file to export your components. Instead, use the recommended approaches\r\n * to consume components of this package as outlined in the `README.md`.\r\n */\r\n\r\nexport type * from './components.d.ts';\r\nexport * from './components';\r\nexport { oTableTheme } from './components/table/aggridtheme';\r\n\r\n// Theme Manager\r\nexport {\r\n\tThemeManager,\r\n\ttype OuiThemeName,\r\n\ttype OuiThemeChangeEvent,\r\n\ttype ThemeManagerOptions\r\n} from './internal/theme-manager';\r\n\r\nexport async function applyPolyfills() {\r\n\t/**\r\n\t * Placeholder to not break existing applications\r\n\t * https://github.com/ionic-team/stencil/issues/5780\r\n\t */\r\n}\r\n"],"names":[],"mappings":";;AAEa,MAAA,WAAW,GAAG;AAC1B,IAAA,kBAAkB,EAAE,YAAA;QACnB,OAAO;YACN,WAAW,EAAE,SAAS;YACtB,WAAW,EAAE,SAAS;AACtB,YAAA,YAAY,EAAE,CAAC;AACf,YAAA,kBAAkB,EAAE,OAAO;AAC3B,YAAA,iBAAiB,EAAE,KAAK;AACxB,YAAA,oBAAoB,EAAE,CAAC;YACvB,4BAA4B,EAAE,SAAS;YACvC,8BAA8B,EAAE,SAAS;YACzC,WAAW,EAAE,yBAAyB;AACtC,YAAA,UAAU,EAAE;AACX,gBAAA,UAAU,EAAE;AACZ,aAAA;AACD,YAAA,eAAe,EAAE,SAAS;YAC1B,qBAAqB,EAAE,SAAS;AAChC,YAAA,gBAAgB,EAAE;AACjB,gBAAA,UAAU,EAAE;AACZ,aAAA;AACD,YAAA,cAAc,EAAE,EAAE;AAClB,YAAA,gBAAgB,EAAE,GAAG;AACrB,YAAA,YAAY,EAAE,EAAE;AAChB,YAAA,eAAe,EAAE,SAAS;AAC1B,YAAA,OAAO,EAAE,EAAE;AACX,YAAA,mBAAmB,EAAE,CAAC;AACtB,YAAA,aAAa,EAAE,KAAK;AACpB,YAAA,sBAAsB,EAAE;SACxB;;;AAGH;;ACjCA;;;;;;;;;;;;;;;;;;;;;AAqBG;AA6BH;;AAEG;AACH,MAAM,eAAe,GAAkC;AACtD,IAAA,YAAY,EAAE,KAAK;AACnB,IAAA,UAAU,EAAE,WAAW;AACvB,IAAA,OAAO,EAAE,IAAI;IACb,MAAM,EAAE,QAAQ,CAAC;CACjB;AAED;;;;AAIG;AACH,MAAM,eAAe,CAAA;AAKpB,IAAA,WAAA,GAAA;QAJQ,IAAY,CAAA,YAAA,GAAwB,IAAI;QAExC,IAAW,CAAA,WAAA,GAAG,KAAK;AAG1B,QAAA,IAAI,CAAC,OAAO,GAAQ,MAAA,CAAA,MAAA,CAAA,EAAA,EAAA,eAAe,CAAE;;AAGtC;;;AAGG;IACI,UAAU,CAAC,UAA+B,EAAE,EAAA;AAClD,QAAA,IAAI,IAAI,CAAC,WAAW,EAAE;AACrB,YAAA,OAAO,CAAC,IAAI,CAAC,0CAA0C,CAAC;YACxD;;AAGD,QAAA,IAAI,CAAC,OAAO,GAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAQ,eAAe,CAAK,EAAA,OAAO,CAAE;AACjD,QAAA,IAAI,CAAC,WAAW,GAAG,IAAI;;AAGvB,QAAA,MAAM,cAAc,GAAG,IAAI,CAAC,kBAAkB,EAAE;QAChD,MAAM,YAAY,GAAG,cAAc,IAAI,IAAI,CAAC,OAAO,CAAC,YAAY;QAEhE,IAAI,CAAC,QAAQ,CAAC,YAAY,EAAE,KAAK,CAAC,CAAC;;AAGpC;;;;AAIG;AACI,IAAA,QAAQ,CAAC,KAAmB,EAAE,SAAA,GAAqB,IAAI,EAAA;AAC7D,QAAA,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;AACtB,YAAA,MAAM,IAAI,KAAK,CAAC,wDAAwD,CAAC;;AAG1E,QAAA,MAAM,aAAa,GAAG,IAAI,CAAC,YAAY;;AAGvC,QAAA,IAAI,aAAa,KAAK,KAAK,EAAE;YAC5B;;AAGD,QAAA,IAAI,CAAC,YAAY,GAAG,KAAK;;AAGzB,QAAA,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC;;AAG9B,QAAA,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE;AACzB,YAAA,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC;;;QAIzB,IAAI,SAAS,EAAE;AACd,YAAA,IAAI,CAAC,oBAAoB,CAAC,KAAK,EAAE,aAAa,CAAC;;;AAIjD;;;AAGG;IACI,eAAe,GAAA;QACrB,OAAO,IAAI,CAAC,YAAY;;AAGzB;;;AAGG;IACI,aAAa,GAAA;QACnB,OAAO,IAAI,CAAC,WAAW;;AAGxB;;;AAGG;IACI,kBAAkB,GAAA;QACxB,OAAO,CAAC,KAAK,CAAC;;AAGf;;AAEG;IACI,cAAc,GAAA;QACpB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC;;AAGzC;;AAEG;IACI,mBAAmB,GAAA;AACzB,QAAA,IAAI,OAAO,OAAO,KAAK,WAAW,EAAE;YACnC,YAAY,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC;;;AAIlD;;;AAGG;AACK,IAAA,kBAAkB,CAAC,KAAmB,EAAA;AAC7C,QAAA,MAAM,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM;QAElC,IAAI,CAAC,MAAM,EAAE;AACZ,YAAA,OAAO,CAAC,IAAI,CAAC,4CAA4C,CAAC;YAC1D;;;AAID,QAAA,MAAM,CAAC,YAAY,CAAC,gBAAgB,EAAE,KAAK,CAAC;;AAG7C;;;AAGG;AACK,IAAA,YAAY,CAAC,KAAmB,EAAA;AACvC,QAAA,IAAI,OAAO,OAAO,KAAK,WAAW,EAAE;AACnC,YAAA,IAAI;gBACH,YAAY,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,EAAE,KAAK,CAAC;;YACnD,OAAO,KAAK,EAAE;AACf,gBAAA,OAAO,CAAC,IAAI,CAAC,wCAAwC,EAAE,KAAK,CAAC;;;;AAKhE;;;AAGG;IACK,kBAAkB,GAAA;AACzB,QAAA,IAAI,OAAO,OAAO,KAAK,WAAW,EAAE;AACnC,YAAA,IAAI;AACH,gBAAA,MAAM,SAAS,GAAG,YAAY,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC;AAC/D,gBAAA,IAAI,SAAS,IAAI,IAAI,CAAC,kBAAkB,EAAE,CAAC,QAAQ,CAAC,SAAyB,CAAC,EAAE;AAC/E,oBAAA,OAAO,SAAyB;;;YAEhC,OAAO,KAAK,EAAE;AACf,gBAAA,OAAO,CAAC,IAAI,CAAC,+CAA+C,EAAE,KAAK,CAAC;;;AAGtE,QAAA,OAAO,IAAI;;AAGZ;;;AAGG;IACK,oBAAoB,CAAC,KAAmB,EAAE,aAAkC,EAAA;AACnF,QAAA,MAAM,WAAW,GAAwB;YACxC,KAAK;YACL;SACA;AAED,QAAA,MAAM,KAAK,GAAG,IAAI,WAAW,CAAC,mBAAmB,EAAE;AAClD,YAAA,MAAM,EAAE,WAAW;AACnB,YAAA,OAAO,EAAE,IAAI;AACb,YAAA,UAAU,EAAE;AACZ,SAAA,CAAC;;AAGF,QAAA,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC;AAE7B,QAAA,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,KAAK,QAAQ,CAAC,eAAe,EAAE;YAC5E,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,aAAa,CAAC,KAAK,CAAC;;;AAG1C;AAED;;AAEG;AACU,MAAA,YAAY,GAAG,IAAI,eAAe;AAE/C;;;AAGG;AACH,SAAS,0BAA0B,GAAA;;AAElC,IAAA,IAAI,YAAY,CAAC,aAAa,EAAE,EAAE;QACjC;;;AAID,IAAA,IAAI;QACH,YAAY,CAAC,UAAU,CAAC;AACvB,YAAA,YAAY,EAAE,KAAK;AACnB,YAAA,OAAO,EAAE,IAAI;AACb,YAAA,UAAU,EAAE;AACZ,SAAA,CAAC;;IACD,OAAO,KAAK,EAAE;;AAEf,QAAA,OAAO,CAAC,IAAI,CAAC,iDAAiD,EAAE,KAAK,CAAC;;AAExE;AAEA;AACA,IAAI,OAAO,QAAQ,KAAK,WAAW,EAAE;AACpC,IAAA,IAAI,QAAQ,CAAC,UAAU,KAAK,SAAS,EAAE;;AAEtC,QAAA,QAAQ,CAAC,gBAAgB,CAAC,kBAAkB,EAAE,0BAA0B,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC;;SACnF;;AAEN,QAAA,0BAA0B,EAAE;;AAE9B;;ACrRA;;;;;;;;AAQG;AAcI,eAAe,cAAc,GAAA;AACnC;;;AAGG;AACJ;;;;;;"}